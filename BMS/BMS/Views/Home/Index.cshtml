@{
    ViewData["Title"] = "Home Page";
}

<style>
    table {
        border: 1px solid gray;
        width: 100%;
    }

    td {
        border: 1px solid gray;
    }
</style>

<div id="app">
    <button v-on:click="btnClick" v-bind:id="btnid">{{btnvalue}}</button><br />
    <span>{{xss}}</span><br />
    <span v-html="html"></span><br />
    <span :id="btnid">v-bind简写:id</span><br />
    <span @@click="btnid">v-on简写@@</span><br />
    合同数量：{{computedAttr}}<br />
    <span v-if="true">
        true
    </span>
    <span v-else>
        false
    </span>
    <table>
        <thead>
            <tr>
                <td>合同名称</td>
                <td>合同编码</td>
            </tr>
        </thead>
        <tr v-for="contract in contracts">
            <td>{{contract.name}}</td>
            <td>{{contract.code}}</td>
        </tr>
    </table>

    <button-counter></button-counter>
    <button-counter></button-counter>

    <products v-bind:products="products" v-on:event-notice="onEventNotice"></products>

    <!-- 组件会在 `currentTabComponent` 改变时改变，动态切换组件 -->
    <component v-bind:is="currentTabComponent" v-on:event-notice="currentTabComponent=$event"></component>

</div>

<script type="text/javascript">

    //import product from '/Component/products';

    //export default {
    //    components: {
    //        product
    //    },
    //    // ...
    //}

    Vue.component('button-counter', {
        data: function () {
            return {
                count: 0
            }
        },
        template: '<button v-on:click="count++">You clicked me {{ count }} times.</button>'
    })

    Vue.component('products', {
        props: ['products'],
        template: '<table><tr v-for="product in products"><td>{{product.name}}</td><td>{{product.code}}</td><td><button v-on:click="$emit(\'event-notice\',\'你好\')">调用组件父级含税</button></td></tr></table>'
    })

    Vue.component('tab1', {
        template: '<button v-on:click="$emit(\'event-notice\',\'tab2\')">显示按钮tab2</button>'
    })

    Vue.component('tab2', {
        template: '<button v-on:click="$emit(\'event-notice\',\'tab1\')">显示按钮tab1</button>'
    })

    var app = new Vue({
        el: '#app',
        data: {
            btnid: "btnid",
            btnvalue: "清空合同",
            xss: "<script type='text/javascript'>xss攻击无法执行<\/script>",
            html: "<span style='color:red;'>html</span>",
            contracts: [
                { name: "合同1", code: "编码1" },
                { name: "合同2", code: "编码2" }
            ],
            products: [
                { name: "产品1", code: "编码1" },
                { name: "产品2", code: "编码2" },
                { name: "产品3", code: "编码3" }
            ],
            currentTabComponent:"tab1"
        },
        methods: {
            btnClick: function () {
                this.contracts = null;
                alert('hello world...');
            },
            onEventNotice: function (msg) {
                alert(msg);
            }
        },
        computed: {
            computedAttr: function () {
                return this.contracts == null ? 0 : this.contracts.length;
            }
        },
        watch: {
            contracts: function () {
                alert("监听了contracts");
            }
        },
        created: function () {
            alert("Vue实例化后调用");
        }
    })
</script>